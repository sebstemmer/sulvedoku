# Create and Solve Sudokus

This repository focuses on solving Sudokus, generating filled Sudoku grids, and creating Sudokus with a specified number
of clues. A detailed explanation and additional context can be found
in [a post on my personal blog](https://sebstemmer.com/algorithms/2025/09/23/create-and-solve-sudokus.html).

**Note:** All scripts should be executed using

```
python -m ...
```

from the **root** of the repository.

## Structure

```
├── data/
├── grid/
├── solve/
├── create/
├── common/
├── benchmark/
```

* `data/` contains test and benchmarking data.
* `grid/` provides utility functions for working with Sudoku grids.
* `solve/` includes everything related to solving Sudokus with backtracking approaches.
* `create/` handles generating Sudokus with a specified number of clues.
* `common/` contains shared utility functions.
* `benchmark/` includes scripts for benchmarking the performance of the different algorithms.

## Installation

After cloning the repository, create a virtual environment:

```
python -m venv venv
```

Activate the environment:

```
source ./venv/bin/activate
```

Install the required dependencies:

```
pip install -r requirements.txt
```

### Create a Grid from a Sudoku String

You can obtain a `Grid` from a Sudoku string with:

```
grid/grid.py - str_to_grid(
        grid_as_str: str
) -> Grid
```

Unit tests for grid functionality can be run with:

```
python -m grid.grid_test_script
```

## Solve Sudokus

Sudoku solving is implemented in:

```
solve/solve.py - solve_grid(
        grid: Grid,
        guess_strategy: Callable[
            [Grid], tuple[Coord, int]
        ] = smallest_allowed_guess_strategy,
        max_depth: Optional[int] = None
) -> Grid
```

with sensible defaults for `guess_strategy` and `max_depth`.

Unit tests for solving functionality can be run with:

```
python -m solve.solve_test_script
```

## Create Filled Sudoku Grids

Use:

```
solve/solve.py - create_filled(
        max_depth: Optional[int] = 100,
        guess_strategy: Callable[[Grid], tuple[Coord, int]] = random_guess_strategy
) -> Grid
```

to create a filled Sudoku grid. The defaults for `max_depth` and `guess_strategy` ensure randomness and strong
performance.

## Create Sudokus

Creating a Sudoku with a specified number of clues `num_filled_target` is implemented in:

```
create/create.py - create_grid(
        num_filled_target: int,
        max_remove_depth: int = 100,
) -> Grid
```

The default for `max_remove_depth` provides good performance.

With the script:

```
python -m create.create_and_print_sudoku_script
```

a Sudoku with the desired number of clues specified at the top is generated and printed to the console.

## Benchmarking

The solvers can be benchmarked with:

```
python -m benchmark.solve_many_sudokus_script
```

using non-trivial Sudoku data generated by:

```
python -m benchmark.create_non_trivial_sudokus_script
```

from [raw data](https://www.kaggle.com/datasets/bryanpark/sudoku) placed in `/data`.

The optimal `max_depth` or creating filled Sudoku grids can be determined with:

```
python -m benchmark.create_filled_script
```

The optimal `max_remove_depth` for creating Sudokus with a specified number of clues can be determined with:

```
python -m benchmark.create_script
```
